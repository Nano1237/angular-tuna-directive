/**
*
* angular-tuna-directive v0.1
* (c) 2015 Tim RÃ¼cker
* License: Apache License
*/
(function(l){l.module("angular-tuna-directive",[]).constant("angular-tuna-directive.preCalcs",[31536E6,2592E6,864E5,36E5,6E4]).factory("angular-tuna-directive.calculateTimes",["angular-tuna-directive.preCalcs",function(a){return function(c){var b={years:0,months:0,days:0,hours:0,minutes:0},d=(new Date).getTime()-c;b.years=Math.floor(d/a[0]);c=d-b.years*a[0];b.months=Math.floor((d-b.years*a[0])/a[0]);d=b.months*a[1];b.days=Math.floor((c-d)/a[2]);c=c-d-b.days*a[2];b.hours=Math.floor(c/a[3]);c-=b.hours* a[3];b.minutes=Math.floor(c/a[4]);b.seconds=Math.floor((c-b.minutes*a[4])/1E3);return b}}]).factory("angular-tuna-directive.getInterval",[function(){return function(a){switch(a){case "s":case "second":case "seconds":return 1E3;case "i":case "minute":case "minutes":return 6E4}}}]).directive("tuna",["angular-tuna-directive.calculateTimes","angular-tuna-directive.getInterval","$interpolate","$interval",function(a,c,b,d){var e,f;return{compile:function(g,h){e=e||(new Date(h.tuna||"")).getTime();f=f|| b(g.text());var k="undefined"!==typeof h.tunaRealtime?h.tunaRealtime||"i":!1;g.text(f(a(e)));k&&(g.text(f(a(e))),d(function(){g.text(f(a(e)))},c(k)))}}}])})(angular);